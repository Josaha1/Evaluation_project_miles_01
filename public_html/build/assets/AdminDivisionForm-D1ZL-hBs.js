import{K as x,m as p,j as e}from"./app-CvBoKgfj.js";import{M as u,B as h,t as a}from"./MainLayout-DXHIoJI3.js";import{B as b}from"./breadcrumb-BC5CAiAz.js";import{L as f}from"./label-CSBkD6Sn.js";import{I as j}from"./input-CLa8Wrjy.js";import{C as v}from"./card-CwtR2BCI.js";import"./utils-ONoQxm8A.js";import"./createLucideIcon-DRc0qRU9.js";import"./x-CCAKE15G.js";function L(){const{mode:s,division:r}=x().props,{data:o,setData:d,post:n,put:m,processing:l,errors:i}=p({name:(r==null?void 0:r.name)||""}),c=t=>{t.preventDefault(),s==="edit"&&r?m(route("admin.divisions.update",{division:r.id}),{onSuccess:()=>a.success("แก้ไขสายงานเรียบร้อยแล้ว"),onError:()=>a.error("ไม่สามารถบันทึกได้")}):n(route("admin.divisions.store"),{onSuccess:()=>a.success("เพิ่มสายงานเรียบร้อยแล้ว"),onError:()=>a.error("ไม่สามารถบันทึกได้")})};return e.jsx(u,{title:s==="edit"?"แก้ไขสายงาน":"เพิ่มสายงาน",breadcrumb:e.jsx(b,{items:[{label:"แดชบอร์ดผู้ดูแลระบบ",href:route("admindashboard")},{label:"จัดการสายงาน",href:route("admin.divisions.index")},{label:s==="edit"?"แก้ไข":"เพิ่มใหม่",active:!0}]}),children:e.jsx("div",{className:"max-w-2xl mx-auto px-6 py-10",children:e.jsxs(v,{className:"p-8 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:s==="edit"?"แก้ไขสายงาน":"เพิ่มสายงานใหม่"}),e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(f,{children:"ชื่อสายงาน"}),e.jsx(j,{value:o.name,onChange:t=>d("name",t.target.value),placeholder:"กรอกชื่อสายงาน",className:"dark:bg-gray-800 dark:text-white"}),i.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.name})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("a",{href:route("admin.divisions.index"),className:"px-4 py-2 border rounded text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",children:"ยกเลิก"}),e.jsx(h,{type:"submit",disabled:l,children:s==="edit"?"บันทึกการแก้ไข":"บันทึก"})]})]})]})})})}export{L as default};
