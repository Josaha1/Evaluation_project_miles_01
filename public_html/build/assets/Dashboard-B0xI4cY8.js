import{r as m,j as t,K as R,S as b}from"./app-DQ2VkJ7f.js";import{S as O,M as V}from"./MainLayout-BTc9pcGZ.js";import{S as A}from"./react-select.esm-DSdaeHML.js";import{c as S}from"./utils-ONoQxm8A.js";import"./Footer-TA0Z8X7z.js";function D(r,s=[]){let n=[];function l(d,c){const a=m.createContext(c),e=n.length;n=[...n,c];const i=p=>{var P;const{scope:x,children:h,...f}=p,g=((P=x==null?void 0:x[r])==null?void 0:P[e])||a,E=m.useMemo(()=>f,Object.values(f));return t.jsx(g.Provider,{value:E,children:h})};i.displayName=d+"Provider";function u(p,x){var g;const h=((g=x==null?void 0:x[r])==null?void 0:g[e])||a,f=m.useContext(h);if(f)return f;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${d}\``)}return[i,u]}const o=()=>{const d=n.map(c=>m.createContext(c));return function(a){const e=(a==null?void 0:a[r])||d;return m.useMemo(()=>({[`__scope${r}`]:{...a,[r]:e}}),[a,e])}};return o.scopeName=r,[l,L(o,...s)]}function L(...r){const s=r[0];if(r.length===1)return s;const n=()=>{const l=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(d){const c=l.reduce((a,{useScope:e,scopeName:i})=>{const p=e(d)[`__scope${i}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:c}),[c])}};return n.scopeName=s.scopeName,n}var I=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_=I.reduce((r,s)=>{const n=m.forwardRef((l,o)=>{const{asChild:d,...c}=l,a=d?O:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(a,{...c,ref:o})});return n.displayName=`Primitive.${s}`,{...r,[s]:n}},{}),N="Progress",j=100,[T,ee]=D(N),[B,G]=T(N),$=m.forwardRef((r,s)=>{const{__scopeProgress:n,value:l=null,max:o,getValueLabel:d=X,...c}=r;(o||o===0)&&!w(o)&&console.error(F(`${o}`,"Progress"));const a=w(o)?o:j;l!==null&&!y(l,a)&&console.error(H(`${l}`,"Progress"));const e=y(l,a)?l:null,i=v(e)?d(e,a):void 0;return t.jsx(B,{scope:n,value:e,max:a,children:t.jsx(_.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":v(e)?e:void 0,"aria-valuetext":i,role:"progressbar","data-state":k(e,a),"data-value":e??void 0,"data-max":a,...c,ref:s})})});$.displayName=N;var C="ProgressIndicator",M=m.forwardRef((r,s)=>{const{__scopeProgress:n,...l}=r,o=G(C,n);return t.jsx(_.div,{"data-state":k(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...l,ref:s})});M.displayName=C;function X(r,s){return`${Math.round(r/s*100)}%`}function k(r,s){return r==null?"indeterminate":r===s?"complete":"loading"}function v(r){return typeof r=="number"}function w(r){return v(r)&&!isNaN(r)&&r>0}function y(r,s){return v(r)&&!isNaN(r)&&r<=s&&r>=0}function F(r,s){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${j}\`.`}function H(r,s){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${j} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var K=$,U=M;function q({className:r,value:s,...n}){return t.jsx(K,{"data-slot":"progress",className:S("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",r),...n,children:t.jsx(U,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}const z={top:"üßë‚Äçüíº ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏≠‡∏á‡∏®‡∏≤‡∏ö‡∏ô‡∏Ç‡∏≠‡∏á",bottom:"üë®‚Äçüéì ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏≠‡∏á‡∏®‡∏≤‡∏•‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á",left:"ü§ù ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏≠‡∏á‡∏®‡∏≤‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á",right:"üîó ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏≠‡∏á‡∏®‡∏≤‡∏Ç‡∏ß‡∏≤‡∏Ç‡∏≠‡∏á"};function re(){const{evaluations:r,fiscal_years:s=[],selected_year:n}=R().props,[l,o]=m.useState({value:n,label:`‡∏õ‡∏µ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì ${parseInt(n)+543}`}),d=s.map(e=>({value:e,label:`‡∏õ‡∏µ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì ${parseInt(e)+543}`}));m.useEffect(()=>{(l==null?void 0:l.value)!==n&&b.visit(route("dashboard"),{method:"get",data:{fiscal_year:l.value},preserveScroll:!0,preserveState:!0})},[l]);const c=m.useMemo(()=>{const e={};return(r.target??[]).forEach(i=>{const u=i.angle||"unknown";e[u]||(e[u]=[]),e[u].push(i)}),e},[r.target]),a=(e,i)=>{const u=e.progress??0;return e.step_to_resume,t.jsxs("div",{className:"rounded-xl border shadow-sm p-5 bg-white dark:bg-gray-800 hover:shadow-md transition",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("img",{src:e.evaluatee_photo||"/images/default.png",alt:e.evaluatee_name,className:"w-14 h-14 rounded-full object-cover border"}),t.jsx("div",{children:t.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:e.evaluatee_name})})]}),t.jsx("div",{className:"mb-2",children:t.jsx("span",{className:S("text-xs px-2 py-1 rounded-full font-medium",i?"bg-blue-100 text-blue-700":"bg-indigo-100 text-indigo-700"),children:i?"üßç‚Äç‚ôÇÔ∏è ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á":"üßë‚Äçü§ù‚Äçüßë ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢"})}),t.jsxs("div",{className:"mb-2",children:[t.jsx(q,{value:u,className:"h-2"}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤: ",u,"%"]})]}),t.jsx("div",{className:"mt-3",children:u<100?t.jsx("button",{onClick:()=>{i&&e.id===0?b.visit(route(u===0?"evaluationsself.index":"evaluationsself.resume")):!i&&e.evaluatee_id&&b.visit(route("assigned-evaluations.show",{evaluateeId:e.evaluatee_id}))},className:"w-full text-center bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-2 rounded-full",children:u===0?"‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô":"‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠"}):t.jsx("span",{className:"block text-sm text-green-600 font-medium text-center",children:"‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô"})})]},`${i?"self":"target"}-${e.id}`)};return t.jsx(V,{title:"‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-10 space-y-10",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"üìä ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô"}),t.jsx("div",{className:"w-60",children:t.jsx(A,{options:d,value:l,onChange:e=>e&&o(e),classNamePrefix:"react-select",isSearchable:!1,styles:{menu:e=>({...e,color:"black"}),option:(e,{isFocused:i})=>({...e,color:"black",backgroundColor:i?"#e0e0e0":"white"}),singleValue:e=>({...e,color:"black"}),input:e=>({...e,color:"black"})}})})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-blue-700 mb-3",children:"üßç‚Äç‚ôÇÔ∏è ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:((r==null?void 0:r.self)??[]).map(e=>a(e,!0))})]}),Object.entries(c).map(([e,i])=>t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-indigo-700 mb-3",children:z[e]??"‡∏≠‡∏∑‡πà‡∏ô ‡πÜ"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(u=>a(u,!1))})]},e))]})})}export{re as default};
