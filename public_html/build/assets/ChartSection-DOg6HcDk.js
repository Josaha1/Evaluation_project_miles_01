import{r as i,j as s}from"./app-DQ2VkJ7f.js";import{C as b}from"./card-DdDD-iKT.js";import{H as x,a as y}from"./highcharts-react.min-DESSUEuS.js";import"./utils-ONoQxm8A.js";const k={7:"📘 แบบประเมินผู้บริหารระดับ 5–8",1:"📗 แบบประเมินผู้บริหารระดับ 9–12 (ภายใน)",4:"📕 แบบประเมินผู้บริหารระดับ 9–12 (ภายนอก)"},C=o=>o?o<9?[7]:[1,4]:[1,4,7],D=({data:o,filters:d})=>{const m=C(d.grade),[v,u]=i.useState(document.documentElement.classList.contains("dark"));i.useEffect(()=>{const e=new MutationObserver(()=>{u(document.documentElement.classList.contains("dark"))});return e.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>e.disconnect()},[]);const p=e=>{const a=o.filter(r=>r.part_id===e);if(a.length===0)return null;const f=Array.from(new Set(a.map(r=>r.aspect))).sort(),c=Array.from(new Set(a.map(r=>`${parseInt(r.year)+543}`))).sort(),t=document.documentElement.classList.contains("dark"),h={chart:{type:"column",backgroundColor:"transparent"},title:{text:`ผลคะแนนเฉลี่ย Part 1 - ${k[e]}`,style:{color:t?"#ccc":"#000"}},xAxis:{categories:c,title:{text:"ปีงบประมาณ (พ.ศ.)",style:{color:t?"#ccc":"#000"}},labels:{style:{color:t?"#ccc":"#000"}},lineColor:t?"#888":"#000"},yAxis:{min:0,max:5,title:{text:"คะแนนเฉลี่ย",style:{color:t?"#ccc":"#000"}},labels:{style:{color:t?"#ccc":"#000"}},gridLineColor:t?"#444":"#ddd"},legend:{layout:"horizontal",align:"center",verticalAlign:"bottom",itemStyle:{color:t?"#ccc":"#000",fontWeight:"normal"}},tooltip:{shared:!0,backgroundColor:t?"#1f2937":"#ffffff",borderColor:t?"#374151":"#ccc",style:{color:t?"#fff":"#000"},valueDecimals:2},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:f.map(r=>({name:r,type:"column",data:c.map(g=>{const n=a.find(l=>l.aspect===r&&`${parseInt(l.year)+543}`===g);return n?parseFloat(n.average_score):null})}))};return s.jsx(b,{className:"p-6 shadow-lg border border-indigo-300 dark:border-indigo-500 text-black dark:text-white",children:s.jsx(x,{highcharts:y,className:"text-black dark:text-white",options:h})},`${e}-${t?"dark":"light"}`)};return s.jsx("div",{className:"space-y-10",children:m.map(e=>p(e))})};export{D as default};
