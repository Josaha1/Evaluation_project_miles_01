import{K as He,r as b,S as E,j as e}from"./app-DQ2VkJ7f.js";import{M as Ue}from"./MainLayout-BTc9pcGZ.js";import{S as Ve}from"./react-select.esm-DSdaeHML.js";import{B as Ze}from"./breadcrumb-D7MOHieF.js";import{C as Ke,a as _e,T as Ce,D as Oe,A as Ye,b as Je,c as Qe,d as $e,S as We,e as Xe,f as et}from"./triangle-alert-CKUbKaKx.js";import{c as p}from"./createLucideIcon-Ce0Y5JqW.js";import{C as Me}from"./circle-plus-CsrQxohL.js";import{U as D}from"./users-YEsL161P.js";import{C as G,I as tt}from"./info-O1PNlwX_.js";import{T as ze}from"./trash-2-DGdS9yBe.js";import"./Footer-TA0Z8X7z.js";import"./utils-ONoQxm8A.js";/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],at=p("brain",st);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Pe=p("chevron-left",rt);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Se=p("chevron-right",lt);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],it=p("crown",dt);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ct=p("ellipsis",nt);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=[["path",{d:"M12 2c1 3 2.5 3.5 3.5 4.5A5 5 0 0 1 17 10a5 5 0 1 1-10 0c0-.3 0-.6.1-.9a2 2 0 1 0 3.3-2C8 4.5 11 2 12 2Z",key:"1ir223"}],["path",{d:"m5 22 14-4",key:"1brv4h"}],["path",{d:"m5 18 14 4",key:"lgyyje"}]],xt=p("flame-kindling",ot);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Ae=p("gauge",mt);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ht=p("refresh-cw",gt);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],bt=p("search",ut);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jt=p("shield",pt);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],yt=p("timer",vt),B=r=>({top:"บน",bottom:"ล่าง",left:"ซ้าย",right:"ขวา"})[r]||r,R=({title:r,value:a,subtitle:n,icon:i,color:t,growth:h,trend:c="up",onClick:v,className:o="",badge:k,isLoading:y=!1})=>e.jsxs("div",{className:`group relative bg-white dark:bg-zinc-900 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-gray-700 overflow-hidden ${v?"cursor-pointer hover:scale-105":""} ${o}`,onClick:v,children:[e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400 to-purple-600 transform rotate-12 scale-150"})}),e.jsx("div",{className:"relative p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${t} shadow-lg`,children:e.jsx(i,{className:"w-6 h-6 text-white"})}),k&&e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full",children:k})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:r}),y?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-20 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:typeof a=="number"?a.toLocaleString():a}),n&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n})]})]}),h!==void 0&&e.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full ${c==="up"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[c==="up"?e.jsx(Xe,{className:"w-4 h-4"}):e.jsx(et,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(h),"%"]})]})]})}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-gradient-to-r from-blue-500 to-purple-600 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]}),ft=({percentage:r,size:a=120,strokeWidth:n=8,color:i="#10B981",label:t})=>{const h=(a-n)/2,c=h*2*Math.PI,v=`${c} ${c}`,o=c-r/100*c;return e.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[e.jsxs("svg",{className:"transform -rotate-90",width:a,height:a,children:[e.jsx("circle",{cx:a/2,cy:a/2,r:h,stroke:"currentColor",strokeWidth:n,fill:"transparent",className:"text-gray-200 dark:text-gray-700"}),e.jsx("circle",{cx:a/2,cy:a/2,r:h,stroke:i,strokeWidth:n,fill:"transparent",strokeDasharray:v,strokeDashoffset:o,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[Math.round(r),"%"]}),t&&e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t})]})]})},Te=({insight:r,className:a=""})=>{const n={success:"border-green-200 bg-green-50 dark:bg-green-900/20",warning:"border-yellow-200 bg-yellow-50 dark:bg-yellow-900/20",danger:"border-red-200 bg-red-50 dark:bg-red-900/20",info:"border-blue-200 bg-blue-50 dark:bg-blue-900/20"},i={success:"text-green-600",warning:"text-yellow-600",danger:"text-red-600",info:"text-blue-600"};return e.jsx("div",{className:`p-4 rounded-lg border-2 ${n[r.type]} ${a}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-2xl",children:r.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-medium ${i[r.type]} mb-1`,children:r.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.message})]})]})})},Nt=({data:r,className:a=""})=>{const n=["บน","ล่าง","ซ้าย","ขวา"],i=["#3B82F6","#10B981","#F59E0B","#8B5CF6"],t=["⬆️","⬇️","⬅️","➡️"];return e.jsx("div",{className:`grid grid-cols-2 gap-4 ${a}`,children:n.map((h,c)=>{const v=r[h]||{count:0,percentage:0},o=v.count||0,k=v.percentage||0;return e.jsxs("div",{className:"group relative overflow-hidden bg-gray-50 dark:bg-gray-800 rounded-xl p-4 text-center hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-10 group-hover:opacity-20 transition-opacity",style:{background:`linear-gradient(135deg, ${i[c]}, ${i[c]}80)`}}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl mb-3 group-hover:scale-110 transition-transform",children:t[c]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["องศา",h]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:o.toLocaleString()}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full transition-all duration-700 ease-out",style:{width:`${k}%`,backgroundColor:i[c]}})})]})]},h)})})},kt=({data:r,className:a=""})=>{if(!r||r.length===0)return e.jsx("div",{className:"text-center text-gray-500",children:"ไม่มีข้อมูลกิจกรรม"});const n=Math.max(...r.map(i=>i.daily_count));return e.jsx("div",{className:`space-y-3 ${a}`,children:r.slice(-10).map((i,t)=>e.jsxs("div",{className:"flex items-center justify-between group hover:bg-gray-50 dark:hover:bg-gray-800 p-2 rounded-lg transition-all",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-0 flex-shrink-0",children:new Date(i.date).toLocaleDateString("th-TH",{month:"short",day:"numeric"})}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1 ml-4",children:[e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 h-2 rounded-full transition-all duration-700 ease-out",style:{width:`${n>0?i.daily_count/n*100:0}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-0 flex-shrink-0",children:i.daily_count})]})]},t))})},qe=({performer:r,rank:a,type:n="evaluator"})=>{const i={1:"from-yellow-400 to-yellow-600",2:"from-gray-300 to-gray-500",3:"from-orange-400 to-orange-600"},t=a<=3?i[a]:"from-blue-400 to-blue-600";return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-zinc-800 rounded-lg border hover:shadow-md transition-all group",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br ${t} flex items-center justify-center text-white font-bold shadow-lg`,children:a<=3?["🥇","🥈","🥉"][a-1]:a}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors",children:[r.fname," ",r.lname]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["เกรด C",r.grade,n==="evaluator"&&r.unique_evaluatees&&e.jsxs("span",{className:"ml-2",children:["• ประเมิน ",r.unique_evaluatees," คน"]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:n==="evaluator"?r.evaluation_count:r.times_evaluated}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:n==="evaluator"?"ครั้ง":"ครั้งที่ถูกประเมิน"})]})]})};function Dt(){var Z,K,O;const{assignments:r,card_data:a,fiscal_years:n,selected_year:i,analytics:t}=He().props,h=n.map(s=>({value:s,label:`ปีงบประมาณ ${parseInt(s)+543}`})),[c,v]=b.useState({value:i,label:`ปีงบประมาณ ${parseInt(i)+543}`}),[o,k]=b.useState("overview"),[y,Ie]=b.useState(""),[w,De]=b.useState("all"),[_,Le]=b.useState("all"),[g,P]=b.useState(1),[C,Be]=b.useState(8);b.useEffect(()=>{E.visit(route("assignments.index"),{method:"get",data:{fiscal_year:c.value},preserveState:!0,preserveScroll:!0})},[c]);const A=b.useMemo(()=>a!=null&&a.summary?{total:a.summary.total_evaluatees,complete:a.summary.complete_count,incomplete:a.summary.incomplete_count,completionRateAll:a.summary.total_evaluatees>0?Math.round(a.summary.complete_count/a.summary.total_evaluatees*100):0}:{total:0,complete:0,incomplete:0,completionRateAll:0},[a]),$=b.useMemo(()=>a!=null&&a.groups?a.groups.filter(s=>{const d=y===""||s.evaluatee&&`${s.evaluatee.fname} ${s.evaluatee.lname}`.toLowerCase().includes(y.toLowerCase()),l=w==="all"||w==="complete"&&s.stats.is_complete||w==="incomplete"&&!s.stats.is_complete,m=_==="all"||_==="5-8"&&s.grade>=5&&s.grade<=8||_==="9-12"&&s.grade>=9&&s.grade<=12;return d&&l&&m}):[],[a,y,w,_]),x=b.useMemo(()=>{const s=(g-1)*C,d=s+C;return{data:$.slice(s,d),currentPage:g,totalPages:Math.ceil($.length/C),totalItems:$.length,hasNextPage:d<$.length,hasPrevPage:g>1}},[$,g,C]),H=s=>{confirm("คุณต้องการลบรายการนี้หรือไม่?")&&E.delete(route("assignments.destroy",{assignment:s}))},U=s=>{const d=B(s);return{บน:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 border-blue-200",ล่าง:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 border-green-200",ซ้าย:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 border-yellow-200",ขวา:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 border-purple-200"}[d]||"bg-gray-100 text-gray-800"},V=s=>{const d=B(s);return{บน:"⬆️",ล่าง:"⬇️",ซ้าย:"⬅️",ขวา:"➡️"}[d]||"❓"},Re=()=>e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center rounded-xl py-6 bg-blue-50 dark:bg-blue-900/20",children:[e.jsx("h2",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:A.total}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"ผู้ถูกประเมิน (ทั้งหมด)"})]}),e.jsxs("div",{className:"text-center rounded-xl py-6 bg-green-50 dark:bg-green-900/20",children:[e.jsx("h2",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:A.complete}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"ประเมินครบถ้วน"})]}),e.jsxs("div",{className:"text-center rounded-xl py-6 bg-amber-50 dark:bg-amber-900/20",children:[e.jsx("h2",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:A.incomplete}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"ยังไม่ครบถ้วน"})]}),e.jsxs("div",{className:"text-center rounded-xl py-6 bg-violet-50 dark:bg-violet-900/20",children:[e.jsxs("h2",{className:"text-3xl font-bold text-violet-600 dark:text-violet-400",children:[A.completionRateAll,"%"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"อัตราความครบถ้วน (ทั้งหมด)"})]})]}),Fe=()=>{var s,d,l,m,M,u,f,z,L,j,F,T,q,I,Y,J,Q,W,X,ee,te,se,ae,re,le,de,ie,ne,ce,oe,xe,me,ge,he,ue,be,pe,je,ve,ye,fe,Ne,ke,we;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(R,{title:"ผู้ถูกประเมินทั้งหมด",value:((s=t==null?void 0:t.kpis)==null?void 0:s.total_evaluatees)||0,subtitle:"คนที่ต้องได้รับการประเมิน",icon:D,color:"from-blue-500 to-blue-600",growth:(l=(d=t==null?void 0:t.kpis)==null?void 0:d.growth_rates)==null?void 0:l.evaluatees,trend:((M=(m=t==null?void 0:t.kpis)==null?void 0:m.growth_rates)==null?void 0:M.evaluatees)>=0?"up":"down",badge:((f=(u=t==null?void 0:t.kpis)==null?void 0:u.growth_rates)==null?void 0:f.evaluatees)>20?"เติบโตสูง":void 0}),e.jsx(R,{title:"ความสัมพันธ์ทั้งหมด",value:((z=t==null?void 0:t.kpis)==null?void 0:z.total_relationships)||0,subtitle:"การเชื่อมโยงการประเมิน",icon:Ye,color:"from-green-500 to-green-600",growth:(j=(L=t==null?void 0:t.kpis)==null?void 0:L.growth_rates)==null?void 0:j.relationships,trend:((T=(F=t==null?void 0:t.kpis)==null?void 0:F.growth_rates)==null?void 0:T.relationships)>=0?"up":"down"}),e.jsx(R,{title:"ผู้ประเมินทั้งหมด",value:((q=t==null?void 0:t.kpis)==null?void 0:q.total_evaluators)||0,subtitle:"คนที่ทำการประเมิน",icon:Je,color:"from-purple-500 to-purple-600",growth:(Y=(I=t==null?void 0:t.kpis)==null?void 0:I.growth_rates)==null?void 0:Y.evaluators,trend:((Q=(J=t==null?void 0:t.kpis)==null?void 0:J.growth_rates)==null?void 0:Q.evaluators)>=0?"up":"down"}),e.jsx(R,{title:"ประสิทธิภาพระบบ",value:`${((X=(W=t==null?void 0:t.performance)==null?void 0:W.system_health)==null?void 0:X.health_score)||0}%`,subtitle:"คะแนนรวมของระบบ",icon:Ae,color:"from-emerald-500 to-emerald-600",badge:((te=(ee=t==null?void 0:t.performance)==null?void 0:ee.system_health)==null?void 0:te.health_score)>=85?"ยอดเยี่ยม":void 0})]}),(t==null?void 0:t.insights)&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(at,{className:"w-5 h-5 mr-2 text-blue-600"}),"💡 ข้อมูลเชิงลึก"]}),e.jsxs("div",{className:"space-y-4",children:[(se=t.insights.insights)==null?void 0:se.map((S,N)=>e.jsx(Te,{insight:S},N)),(ae=t.insights.alerts)==null?void 0:ae.map((S,N)=>e.jsx(Te,{insight:S},`alert-${N}`))]})]})}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[e.jsx(jt,{className:"w-5 h-5 mr-2 text-green-600"}),"🏥 สุขภาพระบบ"]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(ft,{percentage:((le=(re=t==null?void 0:t.performance)==null?void 0:re.system_health)==null?void 0:le.health_score)||0,color:"#10B981",label:"คะแนนรวม"}),e.jsxs("div",{className:"mt-4 w-full space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"ความครบถ้วน"}),e.jsxs("span",{className:"font-medium",children:[((ie=(de=t==null?void 0:t.completion)==null?void 0:de.summary)==null?void 0:ie.completion_rate)||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"การใช้งาน"}),e.jsxs("span",{className:"font-medium",children:[((ce=(ne=t==null?void 0:t.kpis)==null?void 0:ne.efficiency_metrics)==null?void 0:ce.system_utilization)||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"การเติบโต"}),e.jsxs("span",{className:"font-medium",children:[((xe=(oe=t==null?void 0:t.kpis)==null?void 0:oe.growth_rates)==null?void 0:xe.relationships)||0,"%"]})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[e.jsx(_e,{className:"w-5 h-5 mr-2 text-blue-600"}),"📊 การกระจายตามองศา"]}),e.jsx(Nt,{data:((me=t==null?void 0:t.visual_data)==null?void 0:me.angle_distribution)||{}})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[e.jsx(Qe,{className:"w-5 h-5 mr-2 text-indigo-600"}),"📅 กิจกรรมล่าสุด"]}),e.jsx(kt,{data:((ge=t==null?void 0:t.timeline)==null?void 0:ge.daily_activity)||[]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[e.jsx(it,{className:"w-5 h-5 mr-2 text-yellow-600"}),"🏆 ผู้ประเมินยอดเยี่ยม"]}),e.jsx("div",{className:"space-y-3",children:(ue=(he=t==null?void 0:t.people)==null?void 0:he.top_evaluators)==null?void 0:ue.slice(0,8).map((S,N)=>e.jsx(qe,{performer:S,rank:N+1,type:"evaluator"},N))})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[e.jsx(Ce,{className:"w-5 h-5 mr-2 text-green-600"}),"🎯 ผู้ถูกประเมินมากที่สุด"]}),e.jsx("div",{className:"space-y-3",children:(pe=(be=t==null?void 0:t.people)==null?void 0:be.most_evaluated)==null?void 0:pe.slice(0,8).map((S,N)=>e.jsx(qe,{performer:S,rank:N+1,type:"evaluatee"},N))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 text-white text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:((ve=(je=t==null?void 0:t.kpis)==null?void 0:je.efficiency_metrics)==null?void 0:ve.avg_evaluators_per_evaluatee)||0}),e.jsx("div",{className:"text-sm opacity-90",children:"ผู้ประเมินเฉลี่ยต่อคน"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 text-white text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:((fe=(ye=t==null?void 0:t.completion)==null?void 0:ye.summary)==null?void 0:fe.complete_count)||0}),e.jsx("div",{className:"text-sm opacity-90",children:"ประเมินครบถ้วน"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 text-white text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:((Ne=t==null?void 0:t.kpis)==null?void 0:Ne.unique_angles)||0}),e.jsx("div",{className:"text-sm opacity-90",children:"องศาที่ใช้งาน"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-4 text-white text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:((we=(ke=t==null?void 0:t.timeline)==null?void 0:ke.insights)==null?void 0:we.total_active_days)||0}),e.jsx("div",{className:"text-sm opacity-90",children:"วันที่มีกิจกรรม"})]})]})]})},Ee=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx(Re,{}),(y||w!=="all"||_!=="all")&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-center text-blue-700 dark:text-blue-300",children:[e.jsx(tt,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"ข้อมูลที่แสดงถูกกรองตามเงื่อนไข:"})]}),e.jsxs("div",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400 space-y-1",children:[y&&e.jsxs("div",{children:['• ค้นหา: "',y,'"']}),w!=="all"&&e.jsxs("div",{children:["• สถานะ:"," ",w==="complete"?"ครบถ้วน":"ยังไม่ครบ"]}),_!=="all"&&e.jsxs("div",{children:["• เกรด: ",_]})]})]})]}),x.totalPages>1&&e.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["แสดง ",(g-1)*C+1," ","-"," ",Math.min(g*C,$.length),"จากทั้งหมด ",$.length," คน"]}),e.jsxs("select",{value:C,onChange:s=>{Be(Number(s.target.value)),P(1)},className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 dark:bg-zinc-800 dark:text-white",children:[e.jsx("option",{value:4,children:"4 รายการ"}),e.jsx("option",{value:8,children:"8 รายการ"}),e.jsx("option",{value:12,children:"12 รายการ"}),e.jsx("option",{value:20,children:"20 รายการ"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>P(1),disabled:!x.hasPrevPage,className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-zinc-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 mr-1"}),"แรก"]}),e.jsxs("button",{onClick:()=>P(g-1),disabled:!x.hasPrevPage,className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-zinc-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 mr-1"}),"ก่อนหน้า"]}),e.jsxs("span",{className:"px-4 py-2 text-sm bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-lg",children:["หน้า ",g," จาก"," ",x.totalPages]}),e.jsxs("button",{onClick:()=>P(g+1),disabled:!x.hasNextPage,className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-zinc-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:["ถัดไป",e.jsx(Se,{className:"w-4 h-4 ml-1"})]}),e.jsxs("button",{onClick:()=>P(x.totalPages),disabled:!x.hasNextPage,className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-zinc-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:["สุดท้าย",e.jsx(Se,{className:"w-4 h-4 ml-1"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:x.data.map((s,d)=>{var M;const l=s.stats.is_complete,m=s.stats.completion_rate;return e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-lg overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:`px-6 py-4 ${l?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-orange-500 to-red-600"} text-white relative overflow-hidden`,children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent transform rotate-12 scale-150"})}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-3 rounded-full ${l?"bg-green-600":"bg-red-600"} shadow-lg backdrop-blur-sm`,children:l?e.jsx(G,{className:"w-6 h-6"}):e.jsx($e,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold flex items-center",children:["🎯"," ",s.evaluatee?`${s.evaluatee.fname} ${s.evaluatee.lname}`:"ไม่พบข้อมูล"]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm opacity-90 mt-1",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(We,{className:"w-4 h-4 mr-1"}),"เกรด C",s.grade]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(D,{className:"w-4 h-4 mr-1"}),s.stats.total_evaluators," ผู้ประเมิน"]}),e.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full text-xs font-medium",children:["#",(g-1)*C+d+1]})]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-flex items-center justify-center w-16 h-16",children:[e.jsxs("svg",{className:"w-16 h-16 transform -rotate-90",children:[e.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-white/30"}),e.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:`${2*Math.PI*28}`,strokeDashoffset:`${2*Math.PI*28*(1-m/100)}`,strokeLinecap:"round",className:"text-white transition-all duration-1000 ease-out"})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:e.jsxs("span",{className:"text-lg font-bold",children:[Math.round(m),"%"]})})]}),e.jsxs("div",{className:"text-xs mt-1",children:[s.stats.completed_angles,"/",s.stats.required_angles_count," องศา"]})]})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"สรุปสถานะการประเมิน"]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${l?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:l?"🎉 ครบถ้วน":"⚠️ ไม่ครบ"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:s.stats.completed_angles}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"องศาที่มี"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400",children:s.stats.required_angles_count}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"องศาที่ต้องการ"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:s.stats.total_evaluators}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"ผู้ประเมินรวม"})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.required_angles.map(u=>{const f=s.assignments[u]||[],z=f.length>0,L=B(u);return e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 transition-all duration-300 ${z?"border-green-300 bg-green-50 dark:bg-green-900/20 dark:border-green-600 shadow-sm":"border-gray-300 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 hover:border-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/10"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${U(u)}`,children:[V(u)," องศา",L]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(D,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:f.length})]})]}),z?e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:f.map((j,F)=>{var T,q,I;return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-zinc-800 rounded border group hover:shadow-sm transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:((q=(T=j.evaluator)==null?void 0:T.fname)==null?void 0:q.charAt(0))||"?"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:j.evaluator?`${j.evaluator.fname} ${j.evaluator.lname}`:"ไม่พบข้อมูล"}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["เกรด C",((I=j.evaluator)==null?void 0:I.grade)||"-"]})]})]}),e.jsx("button",{onClick:()=>H(j.id),className:"text-red-500 hover:text-red-700 transition-colors p-1 rounded hover:bg-red-50 dark:hover:bg-red-900/20 opacity-0 group-hover:opacity-100",title:"ลบความสัมพันธ์",children:e.jsx(ze,{className:"w-4 h-4"})})]},j.id)})}):e.jsxs("div",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-2 opacity-50",children:"👤"}),e.jsx("div",{className:"text-sm font-medium",children:"ยังไม่มีผู้ประเมิน"}),e.jsx("div",{className:"text-xs mt-1",children:"คลิกเพื่อเพิ่มผู้ประเมิน"})]})]},u)})}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[e.jsxs("span",{className:"flex items-center text-green-600 dark:text-green-400",children:[e.jsx(G,{className:"w-4 h-4 mr-1"}),"ครบ: ",s.stats.completed_angles,"/",s.stats.required_angles_count]}),e.jsxs("span",{className:"flex items-center text-blue-600 dark:text-blue-400",children:[e.jsx(D,{className:"w-4 h-4 mr-1"}),"รวม: ",s.stats.total_evaluators," คน"]}),!l&&e.jsxs("span",{className:"flex items-center text-red-600 dark:text-red-400",children:[e.jsx($e,{className:"w-4 h-4 mr-1"}),"ขาด: ",s.stats.required_angles_count-s.stats.completed_angles," องศา"]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${m>=100?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":m>=75?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":m>=50?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:m>=100?"🎉 สมบูรณ์":m>=75?"🔥 ใกล้เสร็จ":m>=50?"⚡ กำลังดำเนิน":"🚀 เริ่มต้น"})})]})})]})]},`${((M=s.evaluatee)==null?void 0:M.id)||d}-${d}`)})}),x.totalPages>1&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2 bg-white dark:bg-zinc-900 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[Array.from({length:Math.min(7,x.totalPages)},(s,d)=>{let l;return x.totalPages<=7||g<=4?l=d+1:g>=x.totalPages-3?l=x.totalPages-6+d:l=g-3+d,e.jsx("button",{onClick:()=>P(l),className:`px-3 py-2 text-sm rounded-lg transition-colors ${g===l?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:l},l)}),x.totalPages>7&&g<x.totalPages-3&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"px-2 text-gray-500",children:e.jsx(ct,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>P(x.totalPages),className:"px-3 py-2 text-sm rounded-lg transition-colors bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",children:x.totalPages})]})]})})]}),Ge=()=>e.jsx("div",{className:"overflow-x-auto rounded-xl shadow-lg bg-white dark:bg-zinc-900",children:e.jsxs("table",{className:"min-w-full table-auto divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-zinc-800 dark:to-zinc-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"👨‍🏫 ผู้ประเมิน"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"🎯 ผู้ถูกประเมิน"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"📊 เกรด"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"🧭 องศา"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"📅 ปีงบ"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"⚙️ การจัดการ"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-zinc-900 divide-y divide-gray-200 dark:divide-gray-700",children:r.data.map((s,d)=>{var l,m,M,u,f,z;return e.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-zinc-800 transition-colors ${d%2===0?"bg-white dark:bg-zinc-900":"bg-gray-50/50 dark:bg-zinc-800/50"}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-sm font-medium",children:((m=(l=s.evaluator)==null?void 0:l.fname)==null?void 0:m.charAt(0))||"?"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.evaluator?`${s.evaluator.fname} ${s.evaluator.lname}`:"ไม่พบข้อมูล"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["เกรด C",((M=s.evaluator)==null?void 0:M.grade)||"-"]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-sm font-medium",children:((f=(u=s.evaluatee)==null?void 0:u.fname)==null?void 0:f.charAt(0))||"?"})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.evaluatee?`${s.evaluatee.fname} ${s.evaluatee.lname}`:"ไม่พบข้อมูล"})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:["C",((z=s.evaluatee)==null?void 0:z.grade)||"-"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${U(s.angle)}`,children:[V(s.angle)," ",B(s.angle)||"-"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500 dark:text-gray-400",children:parseInt(s.fiscal_year)+543}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("button",{onClick:()=>H(s.id),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors duration-200",title:"ลบความสัมพันธ์",children:e.jsx(ze,{className:"w-4 h-4"})})})]},s.id)})})]})});return e.jsx(Ue,{title:"จัดการผู้ประเมิน-ผู้ถูกประเมิน",breadcrumb:e.jsx(Ze,{items:[{label:"แดชบอร์ดผู้ดูแลระบบ",href:route("admindashboard")},{label:"จัดการผู้ประเมิน-ผู้ถูกประเมิน",active:!0}]}),children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-zinc-900 dark:to-zinc-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-10 px-4 sm:px-6 lg:px-8 space-y-8",children:[e.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"🚀 Ultimate Analytics Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"ระบบวิเคราะห์ครบครันสำหรับการจัดการประเมินผลแบบ 360 องศา"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"w-5 h-5 text-gray-400"}),e.jsx(Ve,{className:"w-60",options:h,value:c,onChange:s=>s&&v(s),classNamePrefix:"react-select",isSearchable:!1})]}),e.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>k("overview"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${o==="overview"?"bg-white dark:bg-zinc-800 text-blue-600 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(_e,{className:"w-4 h-4 mr-2 inline"}),"ภาพรวม"]}),e.jsxs("button",{onClick:()=>k("cards"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${o==="cards"?"bg-white dark:bg-zinc-800 text-blue-600 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(Ce,{className:"w-4 h-4 mr-2 inline"}),"การ์ด"]}),e.jsxs("button",{onClick:()=>k("table"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${o==="table"?"bg-white dark:bg-zinc-800 text-blue-600 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(Oe,{className:"w-4 h-4 mr-2 inline"}),"ตาราง"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[e.jsx(ht,{className:"w-4 h-4 mr-2"}),"รีเฟรช"]}),e.jsxs("a",{href:route("assignments.create"),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white rounded-lg transition-all shadow-lg hover:shadow-xl",children:[e.jsx(Me,{className:"w-4 h-4 mr-2"}),"เพิ่มความสัมพันธ์"]})]})]})]})}),o==="cards"&&e.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"🔍 ค้นหาผู้ถูกประเมิน"}),e.jsxs("div",{className:"relative",children:[e.jsx(bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"ชื่อ-นามสกุลผู้ถูกประเมิน",value:y,onChange:s=>Ie(s.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-zinc-800 dark:text-white transition-colors"})]})]}),e.jsxs("div",{className:"lg:w-48",children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"📊 สถานะ"}),e.jsxs("select",{value:w,onChange:s=>De(s.target.value),className:"w-full py-3 px-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-zinc-800 dark:text-white transition-colors",children:[e.jsx("option",{value:"all",children:"ทั้งหมด"}),e.jsx("option",{value:"complete",children:"ครบถ้วน"}),e.jsx("option",{value:"incomplete",children:"ไม่ครบถ้วน"})]})]}),e.jsxs("div",{className:"lg:w-48",children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"🎯 เกรด"}),e.jsxs("select",{value:_,onChange:s=>Le(s.target.value),className:"w-full py-3 px-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-zinc-800 dark:text-white transition-colors",children:[e.jsx("option",{value:"all",children:"ทั้งหมด"}),e.jsx("option",{value:"5-8",children:"C5-C8"}),e.jsx("option",{value:"9-12",children:"C9-C12"})]})]})]})}),o==="overview"&&Fe(),o==="cards"&&Ee(),o==="table"&&Ge(),o==="table"&&(r==null?void 0:r.links)&&r.links.length>3&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx("div",{className:"flex gap-2 flex-wrap",children:r.links.map((s,d)=>e.jsx("button",{disabled:!s.url,onClick:()=>s.url&&E.visit(s.url,{preserveScroll:!0,preserveState:!0,data:{fiscal_year:c.value}}),dangerouslySetInnerHTML:{__html:s.label},className:`px-4 py-2 border rounded-lg text-sm font-medium transition-all ${s.active?"bg-indigo-600 text-white border-indigo-600 shadow-lg":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 dark:bg-zinc-800 dark:text-white dark:border-gray-600 dark:hover:bg-zinc-700"} ${s.url?"hover:shadow-md":"opacity-50 cursor-not-allowed"}`},d))})}),o==="cards"&&$.length===0&&e.jsxs("div",{className:"text-center py-16 bg-white dark:bg-zinc-900 rounded-xl shadow-lg",children:[e.jsx("div",{className:"text-8xl mb-6",children:"🔍"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"ไม่พบข้อมูลที่ค้นหา"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:"ลองเปลี่ยนเงื่อนไขการค้นหาหรือเพิ่มความสัมพันธ์ใหม่เพื่อเริ่มต้นการวิเคราะห์"}),e.jsxs("a",{href:route("assignments.create"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:from-indigo-600 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl",children:[e.jsx(Me,{className:"w-5 h-5 mr-2"}),"เพิ่มความสัมพันธ์แรก"]})]}),(o==="cards"||o==="table")&&e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-700 rounded-xl shadow-lg p-6 text-white",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(xt,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-sm font-medium opacity-90",children:"ความสัมพันธ์รวม"})]}),e.jsx("div",{className:"text-3xl font-bold",children:((Z=a==null?void 0:a.summary)==null?void 0:Z.total_relationships)||0})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(D,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-sm font-medium opacity-90",children:"ผู้ถูกประเมิน"})]}),e.jsx("div",{className:"text-3xl font-bold",children:((K=a==null?void 0:a.summary)==null?void 0:K.total_evaluatees)||0})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(G,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-sm font-medium opacity-90",children:"ครบถ้วน"})]}),e.jsx("div",{className:"text-3xl font-bold",children:((O=a==null?void 0:a.summary)==null?void 0:O.complete_count)||0})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(yt,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-sm font-medium opacity-90",children:"ความสำเร็จ"})]}),e.jsxs("div",{className:"text-3xl font-bold",children:[A.completionRateAll,"%"]})]})]})})]})})})}export{Dt as default};
