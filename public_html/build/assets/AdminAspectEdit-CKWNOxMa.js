import{K as p,m,r as x,j as e}from"./app-DQ2VkJ7f.js";import{t as i,M as h}from"./MainLayout-BTc9pcGZ.js";import{B as b}from"./breadcrumb-D7MOHieF.js";import"./Footer-TA0Z8X7z.js";import"./utils-ONoQxm8A.js";function k(){const{evaluation:t,part:c,aspect:r,flash:a}=p().props,{data:o,setData:d,put:l,processing:n}=m({name:r.name||"",description:r.description||"",has_subaspects:r.has_subaspects||!1}),u=s=>{s.preventDefault(),l(route("aspects.update",{evaluation:t.id,part:c.id,aspect:r.id}),{onSuccess:()=>i.success("อัปเดตด้านเรียบร้อยแล้ว ✅"),onError:()=>i.error("ไม่สามารถอัปเดตด้านได้ ❌")})};return x.useEffect(()=>{a.success&&i.success(a.success),a.error&&i.error(a.error)},[a]),e.jsx(h,{title:"แก้ไขด้าน (Aspect)",breadcrumb:e.jsx(b,{items:[{label:"แดชบอร์ดผู้ดูแลระบบ",href:route("admindashboard")},{label:"รายการแบบประเมิน",href:route("evaluations.index")},{label:t.title,href:route("evaluations.edit",{evaluation:t.id})},{label:"ส่วน",href:route("parts.index",{evaluation:t.id})},{label:c.title,href:route("aspects.index",{evaluation:t.id,part:c.id})},{label:"แก้ไขด้าน",active:!0}]}),children:e.jsx("div",{className:"max-w-2xl mx-auto py-10",children:e.jsxs("form",{onSubmit:u,className:"space-y-6 bg-white dark:bg-gray-800 p-6 rounded shadow",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300",children:"ชื่อด้าน"}),e.jsx("input",{type:"text",className:"w-full border p-2 rounded dark:bg-gray-800 dark:text-white",value:o.name,onChange:s=>d("name",s.target.value),required:!0})]}),e.jsx("div",{children:e.jsxs("label",{className:"inline-flex items-center text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:o.has_subaspects,onChange:s=>d("has_subaspects",s.target.checked)}),"มีด้านย่อย (Sub-Aspects)"]})}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",disabled:n,className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:"บันทึกการแก้ไข"})})]})})})}export{k as default};
