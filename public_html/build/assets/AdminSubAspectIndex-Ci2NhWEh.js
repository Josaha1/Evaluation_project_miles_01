import{K as n,r as o,j as e,S as x}from"./app-DQ2VkJ7f.js";import{t as l,M as m}from"./MainLayout-BTc9pcGZ.js";import{B as h}from"./breadcrumb-D7MOHieF.js";import{C as p}from"./circle-plus-CsrQxohL.js";import{L as u}from"./layers-BgOIuXRq.js";import{P as f}from"./pencil-oKLdHN4T.js";import{T as b}from"./trash-2-DGdS9yBe.js";import"./Footer-TA0Z8X7z.js";import"./utils-ONoQxm8A.js";import"./createLucideIcon-Ce0Y5JqW.js";function L(){const{evaluation:t,part:s,aspect:r,subaspects:d,flash:i}=n().props;o.useEffect(()=>{i.success&&l.success(i.success),i.error&&l.error(i.error)},[i]);const c=a=>{confirm("คุณแน่ใจหรือไม่ว่าต้องการลบด้านย่อยนี้?")&&x.delete(route("subaspects.destroy",{evaluation:t.id,part:s.id,aspect:r.id,subaspect:a}))};return e.jsx(m,{title:`ด้านย่อยใน: ${r.name}`,breadcrumb:e.jsx(h,{items:[{label:"แดชบอร์ดผู้ดูแลระบบ",href:route("admindashboard")},{label:"รายการแบบประเมิน",href:route("evaluations.index")},{label:t.title,href:route("evaluations.edit",{evaluation:t.id})},{label:"จัดการส่วน",href:route("parts.index",{evaluation:t.id})},{label:s.title,href:route("aspects.index",{evaluation:t.id,part:s.id})},{label:r.name,active:!0}]}),children:e.jsxs("div",{className:"max-w-5xl mx-auto py-10 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"🧩 รายการด้านย่อย"}),e.jsxs("a",{href:route("subaspects.create",{evaluation:t.id,part:s.id,aspect:r.id}),className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:[e.jsx(p,{className:"w-5 h-5 mr-2"})," เพิ่มด้านย่อย"]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-left",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"ชื่อด้านย่อย"}),e.jsx("th",{className:"p-4",children:"คำอธิบาย"}),e.jsx("th",{className:"p-4 text-center",children:"การจัดการ"})]})}),e.jsx("tbody",{children:d.length>0?d.map(a=>e.jsxs("tr",{className:"border-t dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsxs("td",{className:"p-4 text-gray-800 dark:text-white font-medium inline-flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-emerald-500"})," ",a.name]}),e.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-300 text-sm",children:a.description||"-"}),e.jsx("td",{className:"p-4 text-center",children:e.jsxs("div",{className:"flex justify-center items-center gap-3 h-full",children:[e.jsx("a",{href:route("questions.index.subaspect",{evaluation:t.id,part:s.id,aspect:r.id,subaspect:a.id}),className:"text-green-600 hover:text-green-800 text-xs underline",children:"คำถาม"}),e.jsx("a",{href:route("subaspects.edit",{evaluation:t.id,part:s.id,aspect:r.id,subaspect:a.id}),className:"text-indigo-600 hover:text-indigo-800",children:e.jsx(f,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>c(a.id),className:"text-red-600 hover:text-red-800",children:e.jsx(b,{className:"w-5 h-5"})})]})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"text-center text-gray-500 dark:text-gray-400 p-6",children:"ยังไม่มีด้านย่อยในด้านนี้"})})})]})})]})})}export{L as default};
