import{K as E,r as y,m as P,j as s}from"./app-DQ2VkJ7f.js";import{t as x,M as D,B as F}from"./MainLayout-BTc9pcGZ.js";import{S as c}from"./react-select.esm-DSdaeHML.js";import{L as l,I as f}from"./input-BYXBfTOG.js";import{m as I}from"./proxy-DiGbqXPe.js";import"./Footer-TA0Z8X7z.js";import"./utils-ONoQxm8A.js";const p=(r,o="name")=>r.map(m=>({value:m.id.toString(),label:m[o]})),C=[{value:"‡∏ä‡∏≤‡∏¢",label:"‡∏ä‡∏≤‡∏¢"},{value:"‡∏´‡∏ç‡∏¥‡∏á",label:"‡∏´‡∏ç‡∏¥‡∏á"}],S=[{value:"‡∏ô‡∏≤‡∏¢",label:"‡∏ô‡∏≤‡∏¢"},{value:"‡∏ô‡∏≤‡∏á",label:"‡∏ô‡∏≤‡∏á"},{value:"‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß",label:"‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß"}];function V(){const{auth:r,flash:o,divisions:m,departments:N,positions:_}=E().props,h=p(m),g=p(N),v=p(_,"title"),[b,k]=y.useState(null),{data:a,setData:i,post:w,processing:O,errors:n}=P({prename:r.user.prename||"",fname:r.user.fname||"",lname:r.user.lname||"",sex:r.user.sex||"",division_id:r.user.division_id||"",department_id:r.user.department_id||"",position_id:r.user.position_id||"",grade:r.user.grade||"",photo:r.user.photo??null});y.useEffect(()=>{o.success&&x.success(o.success),o.error&&x.error(o.error)},[o]);const L=e=>{e.preventDefault(),w(route("profile.update"),{_method:"PUT",...a},{forceFormData:!0,onSuccess:()=>x.success("‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"),onError:()=>x.error("‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î")})},R=e=>{var j;const t=(j=e.target.files)==null?void 0:j[0];t&&(i("photo",t),k(URL.createObjectURL(t)))},d=e=>({...e,colors:{...e.colors,primary:"#6366f1",primary25:"#e0e7ff",neutral0:"#fff",neutral5:"#f3f4f6",neutral10:"#e5e7eb",neutral20:"#d1d5db",neutral30:"#9ca3af",neutral80:"#111827"}}),u={control:e=>({...e,backgroundColor:"#fff",borderColor:"#d1d5db",borderRadius:"0.5rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",fontSize:"0.875rem"}),menu:e=>({...e,backgroundColor:"#fff",borderRadius:"0.5rem",marginTop:4}),input:e=>({...e,color:"#111827"}),singleValue:e=>({...e,color:"#111827"}),option:(e,t)=>({...e,backgroundColor:t.isSelected?"#6366f1":t.isFocused?"#f3f4f6":"#fff",color:t.isSelected?"#fff":"#111827",cursor:"pointer"})};return s.jsx(D,{title:"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå",children:s.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-xl mx-auto py-12 px-6 bg-white dark:bg-zinc-900 rounded-xl shadow-lg",children:[s.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 dark:text-white mb-6",children:"üë§ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"}),s.jsxs("form",{onSubmit:L,className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:b||(typeof a.photo=="string"&&a.photo?`/storage/${a.photo}`:"/images/default.png"),alt:"‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå",className:"w-24 h-24 rounded-full mx-auto border mb-2 object-cover"}),s.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:border-0 file:rounded-full file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"})]}),s.jsxs("div",{children:[s.jsx(l,{children:"‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤"}),s.jsx(c,{options:S,value:S.find(e=>e.value===a.prename),onChange:e=>i("prename",(e==null?void 0:e.value)||""),isClearable:!0,theme:d,styles:u}),n.prename&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.prename})]}),s.jsxs("div",{children:[s.jsx(l,{children:"‡∏ä‡∏∑‡πà‡∏≠"}),s.jsx(f,{value:a.fname,onChange:e=>i("fname",e.target.value),className:"dark:bg-gray-800 dark:text-white"}),n.fname&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.fname})]}),s.jsxs("div",{children:[s.jsx(l,{children:"‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•"}),s.jsx(f,{value:a.lname,onChange:e=>i("lname",e.target.value),className:"dark:bg-gray-800 dark:text-white"}),n.lname&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.lname})]}),s.jsxs("div",{children:[s.jsx(l,{children:"‡πÄ‡∏û‡∏®"}),s.jsx(c,{options:C,value:C.find(e=>e.value===a.sex),onChange:e=>i("sex",(e==null?void 0:e.value)||""),isClearable:!0,theme:d,styles:u})]}),s.jsxs("div",{children:[s.jsx(l,{children:"‡∏™‡∏≤‡∏¢‡∏á‡∏≤‡∏ô"}),s.jsx(c,{options:h,value:h.find(e=>{var t;return e.value===((t=a.division_id)==null?void 0:t.toString())}),onChange:e=>i("division_id",(e==null?void 0:e.value)||""),isClearable:!0,theme:d,styles:d})]}),s.jsxs("div",{children:[s.jsx(l,{children:"‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô"}),s.jsx(c,{options:g,value:g.find(e=>{var t;return e.value===((t=a.department_id)==null?void 0:t.toString())}),onChange:e=>i("department_id",(e==null?void 0:e.value)||""),isClearable:!0,theme:d,styles:u})]}),s.jsxs("div",{children:[s.jsx(l,{children:"‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á"}),s.jsx(c,{options:v,value:v.find(e=>{var t;return e.value===((t=a.position_id)==null?void 0:t.toString())}),onChange:e=>i("position_id",(e==null?void 0:e.value)||""),isClearable:!0,theme:d,styles:u})]}),s.jsxs("div",{children:[s.jsx(l,{children:"‡∏£‡∏∞‡∏î‡∏±‡∏ö"}),s.jsx(f,{type:"number",value:a.grade,onChange:e=>i("grade",parseInt(e.target.value)||0),className:"dark:bg-gray-800 dark:text-white"}),n.grade&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.grade})]}),s.jsx("div",{className:"text-center pt-4",children:s.jsx(F,{type:"submit",disabled:O,children:"üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á"})})]})]})})}export{V as default};
