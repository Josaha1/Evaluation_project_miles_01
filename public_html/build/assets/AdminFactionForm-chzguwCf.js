import{K as x,m as p,j as e}from"./app-DwFO0JC_.js";import{M as u,B as h,t as s}from"./MainLayout-Cn07eYGn.js";import{B as f}from"./breadcrumb-CwZMHKPj.js";import{L as b}from"./label-CgYmXcEd.js";import{I as j}from"./input-B556fXXw.js";import{C as g}from"./card-ayNJ1wan.js";import"./utils-ONoQxm8A.js";import"./createLucideIcon-Cho3rf5W.js";import"./x-CIBpOcZX.js";function w(){const{mode:a,faction:r}=x().props,{data:i,setData:n,post:d,put:m,processing:c,errors:o}=p({name:(r==null?void 0:r.name)||""}),l=t=>{t.preventDefault(),a==="edit"&&r?m(route("admin.factions.update",{faction:r.id}),{onSuccess:()=>s.success("แก้ไขฝ่ายเรียบร้อยแล้ว"),onError:()=>s.error("ไม่สามารถบันทึกได้")}):d(route("admin.factions.store"),{onSuccess:()=>s.success("เพิ่มฝ่ายเรียบร้อยแล้ว"),onError:()=>s.error("ไม่สามารถบันทึกได้")})};return e.jsx(u,{title:a==="edit"?"แก้ไขฝ่าย":"เพิ่มฝ่าย",breadcrumb:e.jsx(f,{items:[{label:"แดชบอร์ดผู้ดูแลระบบ",href:route("admindashboard")},{label:"จัดการฝ่าย",href:route("admin.factions.index")},{label:a==="edit"?"แก้ไข":"เพิ่มใหม่",active:!0}]}),children:e.jsx("div",{className:"max-w-2xl mx-auto px-6 py-10",children:e.jsxs(g,{className:"p-8 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:a==="edit"?"แก้ไขฝ่าย":"เพิ่มฝ่ายใหม่"}),e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(b,{children:"ชื่อฝ่าย"}),e.jsx(j,{value:i.name,onChange:t=>n("name",t.target.value),placeholder:"กรอกชื่อฝ่าย",className:"dark:bg-gray-800 dark:text-white"}),o.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.name})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("a",{href:route("admin.factions.index"),className:"px-4 py-2 border rounded text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",children:"ยกเลิก"}),e.jsx(h,{type:"submit",disabled:c,children:a==="edit"?"บันทึกการแก้ไข":"บันทึก"})]})]})]})})})}export{w as default};
