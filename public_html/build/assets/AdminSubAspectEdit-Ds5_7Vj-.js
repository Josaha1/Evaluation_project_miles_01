import{K as x,m as b,r as h,j as e}from"./app-DQ2VkJ7f.js";import{t as s,M as f}from"./MainLayout-BTc9pcGZ.js";import{B as v}from"./breadcrumb-D7MOHieF.js";import"./Footer-TA0Z8X7z.js";import"./utils-ONoQxm8A.js";function k(){const{evaluation:t,part:r,aspect:i,subaspect:d,flash:a}=x().props,{data:l,setData:u,put:c,processing:m,errors:n}=b({name:d.name||"",description:d.description||""}),p=o=>{o.preventDefault(),c(route("subaspects.update",{evaluation:t.id,part:r.id,aspect:i.id,subaspect:d.id}),{onSuccess:()=>s.success("บันทึกการแก้ไขด้านย่อยเรียบร้อยแล้ว ✅"),onError:()=>s.error("เกิดข้อผิดพลาดในการบันทึก ❌")})};return h.useEffect(()=>{a.success&&s.success(a.success),a.error&&s.error(a.error)},[a]),e.jsx(f,{title:"แก้ไขด้านย่อย",breadcrumb:e.jsx(v,{items:[{label:"แดชบอร์ดผู้ดูแลระบบ",href:route("admindashboard")},{label:"รายการแบบประเมิน",href:route("evaluations.index")},{label:t.title,href:route("evaluations.edit",{evaluation:t.id})},{label:"จัดการส่วน",href:route("parts.index",{evaluation:t.id})},{label:r.title,href:route("aspects.index",{evaluation:t.id,part:r.id})},{label:i.name,href:route("subaspects.index",{evaluation:t.id,part:r.id,aspect:i.id})},{label:"แก้ไขด้านย่อย",active:!0}]}),children:e.jsx("div",{className:"max-w-xl mx-auto py-10",children:e.jsxs("form",{onSubmit:p,className:"space-y-6 bg-white dark:bg-gray-800 p-6 rounded shadow",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"ชื่อด้านย่อย"}),e.jsx("input",{type:"text",className:"w-full mt-1 border p-2 rounded dark:bg-gray-700 dark:text-white",value:l.name,onChange:o=>u("name",o.target.value),required:!0}),n.name&&e.jsx("div",{className:"text-sm text-red-500 mt-1",children:n.name})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",disabled:m,className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 disabled:opacity-50",children:"บันทึกการแก้ไข"})})]})})})}export{k as default};
